<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>VisioGraphic Resume</title>
        <script type="text/javascript" src="d3/d3.js"></script>
        <style type="text/css">
			.axis path,
			.axis line {
				fill: none;
                stroke:red;
				shape-rendering: crispEdges;
			}
			
            
			.axis text {
				font-family: sans-serif;
				font-size: 11px;
                fill: green;
			}
        </style>
    </head>
    <body>

            <p>Click Me Surya</p>
        <script type="text/javascript">
           
            //SVG WIDTH & HEIGHT
            var w = 700;
            var h = 500;
            var padding = 30;
            
			var dataset = [ [3,2012.5,2011,2014], [2,2010,2009,2011] , [1,2009.5,2009,2010], [4,2008,2006,2010], [1,2006.5,2006,2007], [3,2007.5,2006,2009]
                          ];

            
            //Xscale
            var Xscale = d3.scale.linear()
                            .domain([0, d3.max(dataset,function(d){ return d[0]; })])
                            .range([padding,w-padding*5]);
            
            
            
            //Yscale
            var Yscale = d3.scale.linear()
                            .domain([d3.min(dataset,function(d){ return d[2]; })-1, d3.max(dataset,function(d){ return (d[3]+1); })])
                            .range([h-padding,padding]);
            
            
            //Xaxis
            var Xaxis = d3.svg.axis()
                            .scale(Xscale)
                            .orient("bottom")
                            .ticks(4);
        
        
            //Yaxis
            var Yaxis = d3.svg.axis()
                            .scale(Yscale)
                            .orient("left");
            
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width",w)
                        .attr("height",h);
            
            
            
            
            
            
            svg.selectAll("#tl line") //Top Line
                    .data(dataset)
                    .enter()
                    .append("line")
                    .attr("x1",Xscale(0.05))
                    .attr("y1",function(d){ return Yscale(d[3]); })
                    .attr("x2",function(d){ return Xscale(d[0]-(d[0]/8)); })
                    .attr("y2",function(d){ return Yscale(d[3]); })
                    .attr("stroke","teal");
            
            
            svg.selectAll("#tcl line") //Top Cross Line
                    .data(dataset)
                    .enter()
                    .append("line")
                    .attr("x1",function(d){ return Xscale(d[0]-(d[0]/8)); })
                    .attr("y1",function(d){ return Yscale(d[3]); })
                    .attr("x2",function(d){ return Xscale(d[0]); })
                    .attr("y2",function(d){ return Yscale(d[1]); })
                    .attr("stroke","teal");
            
            
            svg.selectAll("#bl line") //Bottom Line
                    .data(dataset)
                    .enter()
                    .append("line")
                    .attr("x1",Xscale(0.05))
                    .attr("y1",function(d){ return Yscale(d[2]); })
                    .attr("x2",function(d){ return Xscale(d[0]-(d[0]/8)); })
                    .attr("y2",function(d){ return Yscale(d[2]); })
                    .attr("stroke","teal");
            
            
            svg.selectAll("#bcl line") //Bottom Cross Line
                    .data(dataset)
                    .enter()
                    .append("line")
                    .attr("x1",function(d){ return Xscale(d[0]-(d[0]/8)); })
                    .attr("y1",function(d){ return Yscale(d[2]); })
                    .attr("x2",function(d){ return Xscale(d[0]); })
                    .attr("y2",function(d){ return Yscale(d[1]); })
                    .attr("stroke","teal");
            
            
            
            
            
            
            var circles = svg.selectAll("circle")
                            .data(dataset)
                            .enter()
                            .append("circle")
                            .attr("cx", function(d){ return Xscale(d[0]); })
                            .attr("cy", function(d){ return Yscale(d[1]); })
                            .attr("r", function(d){ 
                            if(d[0]==1){
                                return (d[0]*10);} else if(d[0]==2){
                                return (d[0]*10);} else if(d[0]==3){
                                return (d[0]*10);} else if(d[0]==4){
                                return (d[0]*10);} else if(d[0]==5){
                                return (d[0]*10);} else if(d[0]==6){
                                return (d[0]*10);} else if(d[0]==7){
                                return (d[0]*10);} else if(d[0]==8){
                                return (d[0]*10);} else if(d[0]==9){
                                return (d[0]*10);}
                            })
                            .attr("fill",function(d){ 
                            if(d[0]==1){
                                return "#ECC58A";} else if(d[0]==2){
                                return "#FFADA6";} else if(d[0]==3){
                                return "#D1FFD0";} else if(d[0]==4){
                                return "#9ACC8F";}
                            })
                            .attr("stroke","grey")
                            .attr("stroke-width",1);
                                
            
            
            
            
            
            
            svg.append("g")
                .attr("class","xaxis x axis")
                .attr("transform","translate(10," + (h-padding) + ")")
				.call(Xaxis);
            
            svg.append("g")
                .attr("class","yaxis y axis")
                .attr("transform", "translate(" + (padding+10) + ",0)")
				.call(Yaxis);
        
            //Not able to move the gap between the ticks *****IMPORTANT*******
//             svg.selectAll(".yaxis text")  // select all the text elements for the xaxis
//          .attr("transform", function(d) {
//             return "translate(" + this.getBBox().h*-2 + "," + this.getBBox().h + ")";
//         });
            
            
            
            
            
            
            
            
            
            
            
            //On click, update with new data			
			d3.select("p")
				.on("click", function() {

					var dataset = [ [2,2012], [1,2009.5] , [4,2009], [4,2008.5], [3,2006], [2,2007]
                          ];
                    
                    
					//Update scale domains
					Xscale.domain([0, d3.max(dataset, function(d) { return d[0]; })]);
					Yscale.domain([0, d3.max(dataset, function(d) { return d[1]; })]);

					//Update all circles
					svg.selectAll("circle")
					   .data(dataset)
					   .transition()
					   .duration(1000)
					   .each("start", function() {
						   d3.select(this)
						     .attr("fill", "magenta")
						     .attr("r", 7);
					   })
					   .attr("cx", function(d) {
					   		return Xscale(d[0]);
					   })
					   .attr("cy", function(d) {
					   		return Yscale(d[1]);
					   })
					   .transition()
					   .duration(1000)
					   .attr("fill", "black")
					   .attr("r", 2);

					//Update X axis
					svg.select(".x.axis")
				    	.transition()
				    	.duration(1000)
						.call(Xaxis);
					
					//Update Y axis
					svg.select(".y.axis")
				    	.transition()
				    	.duration(1000)
						.call(Yaxis);

				});
			  
        </script>
        
       
        
    </body>
</html>